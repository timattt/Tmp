# Введение во что-то параллельное

Инклудим библиотеку:
```
#include "omp.h"
```

```
#pragma omp parallel
{
  ...
}
```
Это обозначает парал. участок кода, который будет исполняться несколькими потоками.
Все, что внутри будет выполнено несколькими исполнителями.

### Build

Нужен флаг **-fopenmp**.

Задание колличества потоков - в терминале написать **$set OMP_NUM_THREADS=5**. Потом запускать.


```
omp_get_num_threads()
```
 - возвращает кол. потоков.
Если возвращенное значение = 0, то это мастер поток. Можно определять номер потока как и в MPI.

### условия на переменные

* **shared** - переменная с именем из аргументов дикрективы будет разделенной памятью. Без shared переменные все равно будут shared.
* **private** - переменная будет уникальна для каждого потока. Значение до и после засирается.
* **firstprivate** - как private, только исходное значение переменной сохраняется.
* **lastprivate** - при выходе из региона значение сохранится. Будет запомнено последнее измененное.
