# Техническое задание по дизайну Labkeeper v1.1

*Версия ТЗ:* ```2```

![image-Photoroom](https://github.com/user-attachments/assets/aa6ec9da-faa0-492d-92d6-cc0350905f54)

**© Rutesil**

## Общее описание

Labkeeper - веб-приложение для вычислений, комбинация matlab, colab и overleaf.
Разрабатывается компанией [Rutesil](www.rutesil.ru) для оптимизации научных вычислений в химических лабораториях, работающих с силиконовыми резинами.

Первая версия предполагает базовый функционал необходимый для вычислений. Основная страница сайта - это **страница редактора**.
В ней пользователь может создавать **сегменты** с:

* Кодом (язык похож на python, но с дополнительным функционалом, запрошенный коллегами из лабораторий)
* Markdown-текстом

Сегменты идут друг за другом. С сегментами можно делать следующие операции:

* Создание сегмента нужного типа
* Удаление сегмента
* Изменение видимости сегмента в результате
* Редактировать код или текст сегмента

Имеется кнопка **compile**, по нажатию на которую происходит отправка всех сегментов на сервер, где происходят вычисления.
В результате, в правой части редактора появляются результирующие сегменты (на каждый сегмент, который пользователь создал в левой половине редактора будет такой же
сегмент с результатом вычислений в правой половине. Опция видимости на входных сегментах позволяет не отображать результат сегмента справа).

Результирующие сегменты можно просмотреть, а также упаковать в pdf и скачать.

Изначально вычислитель доступен пользователям без аутентификации, но только на конечное число компиляций кода. После истечения этого пробного режима, пользователю высвечивается **экран о том, что
надо аутентифицироваться**. После успешной аутентификации можно продолжать работу.

У каждого пользователя есть набор проектов (которые содержат код и markdown), которые он может создавать, удалять, редактировать. Для аутентифицированных пользователей в редакторе отображается текущий проект,
который редактируется в данный момент. А для обзора и создания новых проектов есть **страница с проектами**.

## Аналоги

Сайты, которые делают примерно похожее. За основу дизайна Labkeeper можно брать что-то из этого:

* [md2pdf](https://md2pdf.netlify.app/) - здесь все просто: слева markdown код, справа результирующая pdf, никаких вычислений нет.

![image](https://github.com/user-attachments/assets/9a4775ad-e48c-4cd2-8e97-9b68e4570c2d)

* [overleaf](https://www.overleaf.com/login?) - сайт для работы с latex и pdf. Слева текст, справа pdf. Вычислений тоже нет.

![image](https://github.com/user-attachments/assets/9a8f250a-3185-43c8-b0ae-d2619b8ed31c)

* [godbolt](https://godbolt.org/) - тут примечательна подсветка кода - слева и справа. Цвет исходной строки совпадает с цветом результирующих строк. В Labkeeper сегменты должны иметь похожий дизайн. То есть цвет входного сегмента должен совпадать с цветом выходного.

![image](https://github.com/user-attachments/assets/27e7f264-4a5c-49d0-88dd-c9551e106638)

* [google colab](https://colab.research.google.com/) - Веб-приложение для вычислений: наиболее близкое к идее Labkeeper. Слева панель с файлами. И главное - различные сегменты - некоторые с кодом, а некоторые с markdown текстом.

![image](https://github.com/user-attachments/assets/f847ff4e-c8ec-422d-89c5-c5794aec6c51)

## Задание

Нужно придумать дизайн для двух страничек сайта в Figma.

## Страница редактора

Здесь пользователь может писать код и markdown в сегментах, компилировать все это, обозревать результат, скачивать pdf.
Нужно придумать дизайн для всех компонентов редактора. Выделение синтаксиса в самих сегментах, а также детали прорисовки содержимого сегментов прорисовывать **не нужно**, поскольку уже есть готовые компоненты,
которые будут использовать для отрисовки формул, верстки markdown и прочего. В случае достижения лимита по компиляциям без аутентификации, нужно показать пользователю панель, закрывающую большую часть редактора,
на которой будет написано об истечении лимита и будет кнопка, через которую можно будет аутентифицироваться.

Примерный набросок:

![image](https://github.com/user-attachments/assets/9dbdc9a2-b95b-4166-b28a-963094371d78)

### Описание странички

* Редактор в левой половине - сюда нужно добавлять сегменты, чтобы в них писать либо код, либо markdown-текст (Аналогично **google colab**) (важно, что кодовые вставки будем делать с помощью [этой](https://codemirror.net/) библиотеки компонентов, это надо учесть при создании макетов)
* Скомпилированный код - сюда помещаются результаты вычислений (аналогично **overleaf** и **md2pdf**)
* Панель подсказок справа снизу - здесь несколько страничек с текстом, который описывает, как использовать программу (можно скрыть и показать)
* Верхнее меню - содержит полезные кнопки и выпадающие меню (аналогично **overleaf**)
* Панель ошибок слева снизу - здесь отображаются детали по текущей ошибке компиляции.

### Содержимое верхнего меню:

* настройки (выпадающее меню):
  * режим округления (выбор одного из трех)
    * без округления
    * фиксированное кол знаков
    * первая значащая цифра
  * выделение синтаксиса (галка)
  * автокомпиляция (галка)
* вставка (выпадающее меню):
  * большой заголовок
  * средний заголовок
  * маленький заголовок
* отмена действия (undo) (кнопка)
* возврат отмененного действия (redo) (кнопка)
* название проекта (редактируемое поле)
* скомпилировать (кнопка)
* конвертация в pdf (кнопка)
* количество доступных компиляций (поле, которое показывает, сколько еще раз пользователь может использовать калькулятор)
* проекты
 * перейти в библиотеку проектов
 * создать новый проект
 * удалить текущий проект

## Страница с проектами

Здесь нужно отобразить список проектов у пользователя. С такими операциями:

* Создание нового проекта. Должна появиться панель, на которой можно будет ввести имя для нового проекта. После создания пользователю открывается редактор.
* Удаления проекта. Должна появиться панель, для подтверждения удаления.
* Изменение имени проекта.
* Копирование проекта с указанием нового имени.

Примерный внешний вид:

![image](https://github.com/user-attachments/assets/10249be8-47dd-430d-9a4e-59f1222dfad5)
