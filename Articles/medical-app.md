# ПО для автоматизации взаимодействия врачей и пациентов

*Версия ТЗ: 4*

## Описание продукта

Система для автоматической записи пациентов на прием в клинику, а также оплаты приема, передачи документов от пациента врачу, оперативной связи пациента и врача до и после приема.
Пациенты предварительно авторизируются через госуслуги. В будущем документы, переданные пациентом, внешние файлы и заключения от врача могут
быть обработаны и добавлены в стандартизированную базу данных состояния пациента. Но в первой версии должен быть представлен механизм записи пациентов на прием и внесения предоплаты.

## Отличия от аналогов

* Авторизация пользователей через госуслуги - таким образом имеется самая достоверная информация о пациентах
* Возможность внести предоплату - не будет такого, что человек записался и не пришел
* Возможность прикрепить документы из других клиник, чтобы клиника могла их обработать и добавить в свою базу - начало развития телемедицины в рамках продукта, что позволит создать единый стандарт медицинских данных о человеке

## Развитие продукта

1. Создаем систему регистрации и записи пользователей (ТЗ и наброски сайта см ниже)
2. Интегрируем ее в исходной клинике
3. Обкатываем работу - получаем базу пациентов
4. Добавляем более детальные механизмы обработки документов (ИИ для скана анализов из pdf, для распознавания текста с других заключений)
5. Расширяем систему - добавляя в нее новые клиники

## Разработка первой версии

Первая версия должна включать в себя возможности для:
* Регистрации пациента в системе через госуслуги
* Удаленного заполнения необходимых документов пациентом (согласие на обработку данных, договор об оказании услуг)
* Записи пациента на прием с внесением предоплаты
* Передачи документов от пациента в клинику
* Переписки пациента с врачом до и после приема

### Пользовательские потребности

#### Со стороны пациента

Пациентам нужно:

* Зарегистрироваться через gosuslugi. Сразу после регистрации требуется подписать и прикрепить документы договора и согласия. Пока это не произойдет, другие функции недоступны.
* Предоставить свои документы (СНИЛС, паспорт, ОМС).
* Выбрать врача, записаться без участия человека, внести предоплату.
* Прикрепить свои прошлые результаты обследований из других учреждений, такие как: pdf-результаты анализов, 
документы с заключением после обследования и т.д - эти данные потом можно вручную перебить в систему клиники.
* Переписываться с врачом после внесения предоплаты и спустя какое-то время после приема.

#### Со стороны клиники

Администратору клиники нужно:

* Выкатить список врачей - указать квалификацию и стоимость.
* Указать время работы врача.
* Увидеть все текущие записи в календаре. 
* Увидеть всю информацию о пациенте: ФИО, паспорт, список всех заключений.

#### Со стороны врача

Врачу в клинике нужно:

* Увидеть список всех записей к себе.
* Обозреть профиль пациента - увидеть ФИО, паспорт, прикрепленные документы.
* Написать заключение пациенту после приема.
* Вести переписку с пациентом до и после приема.

### Сущности

* Клиника - имеет список врачей и список пациентов
* Пациент - человек, определеяемый учеткой в госуслугах и личными документами - имеет список загруженных документов-заключений, а также список записей к врачам в рамках системы. Может записываться к врачу в выбранной клинике, вносить предоплату, отменять запись и т.д.
* Врач - прикреплен к клинике, имеет календарный список записей пациентов. Может во время приема получить доступ к данным пациента, добавить заключение. Имеет список слотов, куда можно записывать пациентов.
* Запись к врачу - может создаваться пациентом для указания времени встречи с врачом, может быть подтверждена предоплатой.
* Свободный слот для записи - определяется врачом, в него пациент онлайн может записаться. Время приема определяет либо пациент, либо врач.
* Медицинское заключение - текстовая запись, которую врач создает для пациента после окончания приема по записи.
* Чат - группа из пациента и врача, которые могут писать друг другу сообщения. Пациент может отправлять сообщения в промежуток за неделю до приема и до недели после приема.
* Сообщение - привязано к чату, содержит текст или указатель на документ
* Документ - файл, который пациент может прикрепить о себе - анализы, старые заключения и тд

### Пользователи и роли

Клиника, врач, пациент - все это пользователи (у клиники сервисный пользователь). Пользователь создается, когда человек заходит в систему через госуслуги. У каждого пользователя в системе есть роль - врач, пациент, клиника. По умолчанию роль - пациент. Администратор может установить
нужную роль пользователям-врачам, а также пользователям-администраторам. После входа в систему в зависимости от роли пользователю откроется нужный интерфейс.

### Себестоимость

| Этап                                       | Стек технологий       | Специалист   | Стоимость | Детализация                                                                                  | Срок       |
|--------------------------------------------|-----------------------|--------------|-----------|----------------------------------------------------------------------------------------------|------------|
| Разработка дизайна                         | Figma                 | Анастасия В. | 500$      | 15 страничек + логотипы + ux/ui                                                              | 2 недели   |
| Верстка сайта (frontend)                   | ReactJs               | Павел М      | 1500$     | 15 страничек. 5к за верстку страницы в HTML, 5к за написание функционала страницы            | 1.5 месяца |
| Написание серверной части (backend)        | Java, Spring, Reactor | Т            | 3000$     | Написание, тестирование API и бизнес логики                                                  | 1 месяц    |
| Интеграция с ЕСИА (gosuslugi)              | Oauth2                | Т            | 1000$     | Интеграция и настройка протокола oauth2 и информационной системы через ЛК юрлиц в госуслугах | 1 месяц    |
| Интеграция с платежной системой (yookassa) | YooKassaProtocol      | Т            | 1000$     | Подключение платежной системы к базе данных, тестирование                                    | 2 недели   |
| Конфигурация инфраструктуры                | Docker, YC, Postgres  | Т            | 1000$     | Создание и настройка базы данных, развертывание приложения                                   | 2 недели   |
|                                            |                       |              |           |                                                                                              |            |
|                                            |                       | Итого:       | 8000$     |                                                                                              | 4 месяца   |

### Поддержка

| Действие                    | Стоимость |
|-----------------------------|-----------|
| Обслуживание кодовой базы   | 500$      |
| Обслуживание инфраструктуры | 500$      |
|                             |           |
| Итого:                      | 1000$     |







