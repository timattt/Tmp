# EXT2

ФС состоит из блоков.

```
размер блока = 1024 << s_log_block_size
```

ФС делится на несколько групп блоков.

![image](https://user-images.githubusercontent.com/25401699/199470309-ab3dc87a-876b-45b1-ba96-0e8562241488.png)

В каждой группе будет так:

* В начале лежит супер блок - там можно найти нужные константы.

* Далее идет таблица дескрипторов групп. Всех групп, которые есть в системе.

**Важно, что некоторые группы (первая точно) будут иметь в начале свои копии суперблока и таблицы дескрипторов. Эти копии у всех одинаковые.**
   
* Теперь идет битмап для блоков - показывает, какой блок в группе занят, а какой нет
* Теперь идет битмап для инодов - показывает, какой инод в группе занят, а какой нет
* список структур инодов - все иноды данной группы
* список блоков - все блоки данной группы

Инод представляет собой файл или директорию. Это можно узнать из его полей.
В нем есть список из первичных блоков - просто указатели на блоки.
Потом есть указатель на индайрект инод - это инод, который содержит в себе список блоков.
И есть двойной индайрект нод - содержит уже список инодов.
Лучше посмотрите на картинку:

![image](https://user-images.githubusercontent.com/25401699/199459485-56710859-9cc3-4b0c-b325-af3b49a29b94.png)

Если инод - директория, то тогда он содержит в своих блоках список с именами того, что лежит в этой директории и указателями на иноды этих объектов.
Важно, что структуры из этого списка растягиваются так, чтобы в точности занимать место кратное длине блока.


